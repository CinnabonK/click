<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Scaling with Wheel</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #fff;
        }

        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        img {
            position: absolute;
            width: 0;
            height: auto;
            transition: width 0.1s ease-out;
            display: none; /* 最初は全て非表示 */
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- 画像50個を準備 -->
        <img src="image1.jpg" alt="Image 1">
        <img src="image2.jpg" alt="Image 2">
        <img src="image3.jpg" alt="Image 3">
        <!-- ... 他の画像も続ける -->
    </div>

    <script>
        const images = document.querySelectorAll("img");
        const container = document.getElementById("container");
        let currentIndex = 0;
        let scale = 0;
        let lastColor = '';
        const colors = ["#FF5733", "#33FF57", "#3357FF", "#F0E68C", "#FF69B4", "#D2691E", "#8A2BE2", "#20B2AA"];
        let lastDeltaY = 0; // ホイールの動きを保存

        // 初期化: 最初の画像だけ表示
        images[currentIndex].style.display = "block";

        // マウスホイールイベント処理
        window.addEventListener("wheel", function(event) {
            const delta = Math.sign(event.deltaY); // 正の値（1）または負の値（-1）
            const speedFactor = Math.abs(event.deltaY) * 0.1; // スクロール速度に応じて拡大スピードを調整

            // スケールの更新（マウスホイールの動きに基づく）
            scale += delta * speedFactor;

            // 画像のスケールが0未満、または100以上にならないように制限
            if (scale <= 0) {
                scale = 0;
            }
            if (scale >= 100) {
                scale = 100;
            }

            // 画像の拡大表示
            images[currentIndex].style.width = scale + "vw";

            // スケールが100に達したら次の画像へ切り替え
            if (scale === 100) {
                images[currentIndex].style.display = "none"; // 現在の画像を非表示
                currentIndex = (currentIndex + delta + images.length) % images.length; // 順方向・逆方向どちらにも対応
                scale = 0; // スケールをリセット

                if (!images[currentIndex]) {
                    // 画像がない場合は単色背景を表示
                    let newColor;
                    do {
                        newColor = colors[Math.floor(Math.random() * colors.length)];
                    } while (newColor === lastColor);
                    lastColor = newColor;
                    container.style.backgroundColor = newColor;
                } else {
                    // 画像がある場合は表示
                    container.style.backgroundColor = "#fff";
                    images[currentIndex].style.display = "block";
                }
            }
        });
    </script>
</body>
</html>
